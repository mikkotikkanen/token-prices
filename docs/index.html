<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>token-costs - LLM Pricing Data</title>
  <meta name="description" content="Daily-updated LLM token pricing data for OpenAI, Anthropic, Google, and OpenRouter. npm package and JSON API.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0c0c0c;
      --bg-elevated: #141414;
      --bg-subtle: #1a1a1a;
      --border: #262626;
      --border-subtle: #1f1f1f;
      --text: #fafafa;
      --text-secondary: #a1a1a1;
      --text-muted: #6b6b6b;
      --accent: #f59e0b;
      --accent-dim: #b45309;
      --code-bg: #0a0a0a;
      --success: #22c55e;
      --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', Consolas, monospace;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 5rem;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      font-size: 15px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Header */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(12, 12, 12, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border-subtle);
    }

    .header-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
      height: 3.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      font-weight: 600;
      font-size: 1rem;
      color: var(--text);
      text-decoration: none;
      font-family: var(--font-mono);
      letter-spacing: -0.02em;
    }

    .logo span {
      color: var(--accent);
    }

    nav {
      display: none;
    }

    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.875rem;
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      transition: all 0.15s ease;
    }

    nav a:hover {
      color: var(--text);
      background: var(--bg-subtle);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .github-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.25rem;
      height: 2.25rem;
      border-radius: 6px;
      color: var(--text-secondary);
      transition: all 0.15s ease;
    }

    .github-link:hover {
      color: var(--text);
      background: var(--bg-subtle);
    }

    .github-link svg {
      width: 1.25rem;
      height: 1.25rem;
    }

    /* Mobile menu */
    .menu-toggle {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.25rem;
      height: 2.25rem;
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.15s ease;
    }

    .menu-toggle:hover {
      color: var(--text);
      background: var(--bg-subtle);
    }

    /* Container */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    @media (min-width: 768px) {
      .container {
        padding: 0 2rem;
      }
    }

    @media (min-width: 1024px) {
      .container {
        padding: 0 3rem;
      }
    }

    /* Hero */
    .hero {
      padding: 5rem 0 4rem;
      text-align: center;
      border-bottom: 1px solid var(--border-subtle);
    }

    .hero .container {
      max-width: 700px;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem 0.875rem;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 100px;
      font-size: 0.8125rem;
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
    }

    .hero-badge-dot {
      width: 6px;
      height: 6px;
      background: var(--success);
      border-radius: 50%;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .hero h1 {
      font-size: clamp(2.5rem, 8vw, 4rem);
      font-weight: 600;
      letter-spacing: -0.04em;
      line-height: 1.1;
      margin-bottom: 1rem;
    }

    .hero h1 span {
      background: linear-gradient(135deg, var(--accent) 0%, #fbbf24 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-description {
      font-size: 1.125rem;
      color: var(--text-secondary);
      max-width: 540px;
      margin: 0 auto 2rem;
      line-height: 1.6;
    }

    .hero-actions {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      align-items: center;
      justify-content: center;
      margin-top: 5rem;
    }

    .install-tabs {
      display: flex;
      gap: 0.25rem;
      margin-bottom: 0.5rem;
    }

    .install-tab {
      padding: 0.375rem 0.75rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .install-tab:hover {
      color: var(--text-secondary);
    }

    .install-tab.active {
      background: var(--bg-subtle);
      color: var(--text);
    }

    .hero-install {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      font-family: var(--font-mono);
      font-size: 0.875rem;
      color: var(--text);
    }

    .hero-install code {
      color: var(--text-secondary);
    }

    .hero-install code span {
      color: var(--accent);
    }

    .copy-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
      background: var(--bg-subtle);
      border: none;
      border-radius: 4px;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .copy-btn:hover {
      color: var(--text);
      background: var(--border);
    }

    .copy-btn.copied {
      color: var(--success);
    }

    .copy-btn svg {
      width: 1rem;
      height: 1rem;
    }

    .hero-links {
      display: flex;
      gap: 1.5rem;
      font-size: 0.875rem;
    }

    .hero-links a {
      color: var(--text-muted);
      text-decoration: none;
      transition: color 0.15s ease;
    }

    .hero-links a:hover {
      color: var(--text);
    }

    /* Providers strip */
    .providers-strip {
      padding: 1.25rem 1.5rem;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border-subtle);
    }

    .providers-strip-inner {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem 1.5rem;
      font-size: 0.8125rem;
      color: var(--text-muted);
    }

    .providers-strip span {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .providers-strip .dot {
      width: 4px;
      height: 4px;
      background: var(--border);
      border-radius: 50%;
    }

    /* Main content */
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    @media (min-width: 768px) {
      main {
        padding: 0 2rem;
      }
    }

    @media (min-width: 1024px) {
      main {
        padding: 0 3rem;
      }
    }

    section {
      padding: 4rem 0;
      border-bottom: 1px solid var(--border-subtle);
    }

    section:last-of-type {
      border-bottom: none;
    }

    h2 {
      font-size: 1.75rem;
      font-weight: 600;
      letter-spacing: -0.03em;
      margin-bottom: 1rem;
      color: var(--text);
    }

    h2 .section-number {
      color: var(--text-muted);
      font-weight: 400;
      margin-right: 0.5rem;
    }

    h3 {
      font-size: 1.125rem;
      font-weight: 500;
      margin-top: 2.5rem;
      margin-bottom: 0.75rem;
      color: var(--text);
    }

    h3:first-of-type {
      margin-top: 1.5rem;
    }

    p {
      color: var(--text-secondary);
      margin-bottom: 1rem;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.15s ease;
    }

    a:hover {
      color: #fbbf24;
    }

    strong {
      color: var(--text);
      font-weight: 500;
    }

    ul, ol {
      color: var(--text-secondary);
      margin-bottom: 1rem;
      padding-left: 1.5rem;
    }

    li {
      margin-bottom: 0.5rem;
    }

    li strong {
      color: var(--text);
    }

    /* Code blocks */
    code {
      font-family: var(--font-mono);
      font-size: 0.875em;
    }

    p code, li code, td code {
      background: var(--bg-subtle);
      padding: 0.2em 0.4em;
      border-radius: 4px;
      color: var(--accent);
      font-size: 0.8125rem;
    }

    pre {
      background: var(--code-bg);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      padding: 1.25rem;
      overflow-x: auto;
      margin: 1rem 0 1.5rem;
      position: relative;
    }

    pre code {
      color: var(--text-secondary);
      font-size: 0.8125rem;
      line-height: 1.7;
    }

    .code-block {
      position: relative;
    }

    .code-block .copy-btn {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      opacity: 0;
      transition: opacity 0.15s ease;
    }

    .code-block:hover .copy-btn {
      opacity: 1;
    }

    /* Syntax highlighting */
    .token-keyword { color: #c084fc; }
    .token-string { color: #86efac; }
    .token-comment { color: var(--text-muted); font-style: italic; }
    .token-function { color: #60a5fa; }
    .token-number { color: #fbbf24; }
    .token-property { color: var(--text); }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0 1.5rem;
      font-size: 0.875rem;
    }

    th {
      text-align: left;
      padding: 0.75rem 1rem;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      font-weight: 500;
      color: var(--text);
    }

    th:first-child { border-radius: 8px 0 0 0; }
    th:last-child { border-radius: 0 8px 0 0; }

    td {
      padding: 0.75rem 1rem;
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
    }

    tr:last-child td:first-child { border-radius: 0 0 0 8px; }
    tr:last-child td:last-child { border-radius: 0 0 8px 0; }

    /* API Cards */
    .api-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .api-card {
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      padding: 1.25rem;
      transition: all 0.2s ease;
    }

    .api-card:hover {
      border-color: var(--border);
      transform: translateY(-2px);
    }

    .api-card h4 {
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--text);
    }

    .api-card a {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--text-muted);
      word-break: break-all;
    }

    .api-card a:hover {
      color: var(--accent);
    }

    /* Note box */
    .note {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-left: 3px solid var(--accent);
      border-radius: 0 10px 10px 0;
      padding: 1.25rem;
      margin: 1.5rem 0;
    }

    .note p:last-child {
      margin-bottom: 0;
    }

    /* Footer */
    footer {
      border-top: 1px solid var(--border-subtle);
      padding: 3rem 1.5rem;
      text-align: center;
    }

    .footer-inner {
      max-width: 1100px;
      margin: 0 auto;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem 1.5rem;
      margin-bottom: 1rem;
    }

    .footer-links a {
      color: var(--text-secondary);
      font-size: 0.875rem;
      transition: color 0.15s ease;
    }

    .footer-links a:hover {
      color: var(--text);
    }

    .footer-copy {
      font-size: 0.8125rem;
      color: var(--text-muted);
    }

    /* Mobile navigation drawer */
    .mobile-nav {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 200;
    }

    .mobile-nav.open {
      display: block;
    }

    .mobile-nav-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
    }

    .mobile-nav-content {
      position: absolute;
      top: 0;
      right: 0;
      width: min(300px, 80vw);
      height: 100%;
      background: var(--bg-elevated);
      border-left: 1px solid var(--border-subtle);
      padding: 1.5rem;
      overflow-y: auto;
    }

    .mobile-nav-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .mobile-nav-close {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.25rem;
      height: 2.25rem;
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 6px;
    }

    .mobile-nav-links {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .mobile-nav-links a {
      display: block;
      padding: 0.75rem 1rem;
      color: var(--text-secondary);
      text-decoration: none;
      border-radius: 8px;
      font-size: 0.9375rem;
      transition: all 0.15s ease;
    }

    .mobile-nav-links a:hover {
      background: var(--bg-subtle);
      color: var(--text);
    }

    /* Responsive */
    @media (min-width: 768px) {
      .header-inner {
        padding: 0 2rem;
      }

      nav {
        display: flex;
        gap: 0.25rem;
      }

      .menu-toggle {
        display: none;
      }

      .hero {
        padding: 6rem 0 5rem;
      }

      .hero-actions {
        flex-direction: row;
      }

      .api-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .header-inner {
        padding: 0 3rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-inner">
      <a href="#" class="logo">token<span>-</span>costs</a>
      <nav>
        <a href="#quick-start">Quick Start</a>
        <a href="#npm-package">Package</a>
        <a href="#api-endpoints">API</a>
        <a href="#data-format">Format</a>
        <a href="#advanced">Advanced</a>
      </nav>
      <div class="header-actions">
        <a href="https://github.com/mikkotikkanen/token-costs" class="github-link" aria-label="GitHub">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
        </a>
        <button class="menu-toggle" onclick="toggleMobileNav()" aria-label="Menu">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>
  </header>

  <div class="mobile-nav" id="mobileNav">
    <div class="mobile-nav-overlay" onclick="toggleMobileNav()"></div>
    <div class="mobile-nav-content">
      <div class="mobile-nav-header">
        <span class="logo">token<span>-</span>costs</span>
        <button class="mobile-nav-close" onclick="toggleMobileNav()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="mobile-nav-links">
        <a href="#overview" onclick="toggleMobileNav()">Overview</a>
        <a href="#quick-start" onclick="toggleMobileNav()">Quick Start</a>
        <a href="#npm-package" onclick="toggleMobileNav()">NPM Package</a>
        <a href="#stale-data" onclick="toggleMobileNav()">Stale Data</a>
        <a href="#api-endpoints" onclick="toggleMobileNav()">API Endpoints</a>
        <a href="#data-format" onclick="toggleMobileNav()">Data Format</a>
        <a href="#advanced" onclick="toggleMobileNav()">Advanced</a>
        <a href="#historical" onclick="toggleMobileNav()">Historical</a>
        <a href="#proposal" onclick="toggleMobileNav()">For Providers</a>
      </div>
    </div>
  </div>

  <section class="hero">
    <div class="container">
      <div class="hero-badge">
        <span class="hero-badge-dot"></span>
        Updated daily at 00:01 UTC
      </div>
      <h1>LLM <span>Pricing</span> Data</h1>
      <p class="hero-description">Daily-updated token pricing for OpenAI, Anthropic, Google, and OpenRouter. Stop hardcoding prices.</p>
      <div class="hero-actions">
        <div class="install-tabs">
          <button class="install-tab active" onclick="switchInstallTab('npm')">npm</button>
          <button class="install-tab" onclick="switchInstallTab('pnpm')">pnpm</button>
          <button class="install-tab" onclick="switchInstallTab('yarn')">yarn</button>
          <button class="install-tab" onclick="switchInstallTab('bun')">bun</button>
        </div>
        <div class="hero-install">
          <code id="install-command"><span>npm</span> install token-costs</code>
          <button class="copy-btn" id="install-copy-btn" onclick="copyInstallCommand(this)" aria-label="Copy">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- <div class="providers-strip">
    <div class="providers-strip-inner">
      <span>OpenAI</span>
      <span class="dot"></span>
      <span>Anthropic</span>
      <span class="dot"></span>
      <span>Google</span>
      <span class="dot"></span>
      <span>OpenRouter</span>
    </div>
  </div> -->

  <main>
    <section id="overview">
      <h2><span class="section-number">01</span>Overview</h2>
      <p>Token Costs provides programmatic access to LLM token pricing. Instead of hardcoding prices or scraping pricing pages yourself, fetch daily-updated JSON or use the npm package.</p>
      <p><strong>Supported providers:</strong> OpenAI, Anthropic, Google, OpenRouter</p>
      <p><strong>Update frequency:</strong> Daily at 00:01 UTC</p>
      <!-- <p><strong>Source:</strong> <a href="https://github.com/mikkotikkanen/token-costs">github.com/mikkotikkanen/token-costs</a></p> -->
    </section>

    <section id="quick-start">
      <h2><span class="section-number">02</span>Quick Start</h2>

      <h3>Option 1: NPM Package</h3>
      <div class="code-block">
        <pre><code>npm install token-costs</code></pre>
        <button class="copy-btn" onclick="copyToClipboard('npm install token-costs', this)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </button>
      </div>
      <div class="code-block">
        <pre><code><span class="token-keyword">import</span> { PricingClient } <span class="token-keyword">from</span> <span class="token-string">'token-costs'</span>;

<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>();

<span class="token-comment">// Get pricing</span>
<span class="token-keyword">const</span> result = <span class="token-keyword">await</span> client.<span class="token-function">getModelPricing</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>);
console.<span class="token-function">log</span>(result.pricing.input);  <span class="token-comment">// 2.5</span>

<span class="token-comment">// Calculate cost</span>
<span class="token-keyword">const</span> cost = <span class="token-keyword">await</span> client.<span class="token-function">calculateCost</span>(<span class="token-string">'anthropic'</span>, <span class="token-string">'claude-sonnet-4'</span>, {
  inputTokens: <span class="token-number">1500</span>,
  outputTokens: <span class="token-number">800</span>,
});
console.<span class="token-function">log</span>(cost.totalCost);  <span class="token-comment">// 0.0165</span></code></pre>
        <button class="copy-btn" onclick="copyToClipboard(`import { PricingClient } from 'token-costs';

const client = new PricingClient();

// Get pricing
const result = await client.getModelPricing('openai', 'gpt-4o');
console.log(result.pricing.input);  // 2.5

// Calculate cost
const cost = await client.calculateCost('anthropic', 'claude-sonnet-4', {
  inputTokens: 1500,
  outputTokens: 800,
});
console.log(cost.totalCost);  // 0.0165`, this)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </button>
      </div>

      <h3>Option 2: Direct Fetch (No Dependencies)</h3>
      <p>Fetch JSON directly from this site:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">const</span> response = <span class="token-keyword">await</span> <span class="token-function">fetch</span>(<span class="token-string">'https://mikkotikkanen.github.io/token-costs/api/v1/openai.json'</span>);
<span class="token-keyword">const</span> data = <span class="token-keyword">await</span> response.<span class="token-function">json</span>();

<span class="token-keyword">const</span> gpt4o = data.current.models[<span class="token-string">'gpt-4o'</span>];
console.<span class="token-function">log</span>(<span class="token-string">`Input: $</span>${gpt4o.input}<span class="token-string">/M tokens`</span>);
console.<span class="token-function">log</span>(<span class="token-string">`Output: $</span>${gpt4o.output}<span class="token-string">/M tokens`</span>);</code></pre>
        <button class="copy-btn" onclick="copyToClipboard(`const response = await fetch('https://mikkotikkanen.github.io/token-costs/api/v1/openai.json');
const data = await response.json();

const gpt4o = data.current.models['gpt-4o'];
console.log(\`Input: \$\${gpt4o.input}/M tokens\`);
console.log(\`Output: \$\${gpt4o.output}/M tokens\`);`, this)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </button>
      </div>
    </section>

    <section id="npm-package">
      <h2><span class="section-number">03</span>NPM Package</h2>

      <h3>Installation</h3>
      <div class="code-block">
        <pre><code>npm install token-costs</code></pre>
        <button class="copy-btn" onclick="copyToClipboard('npm install token-costs', this)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </button>
      </div>

      <h3>PricingClient</h3>
      <p>The main class for fetching and caching pricing data:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">import</span> { PricingClient } <span class="token-keyword">from</span> <span class="token-string">'token-costs'</span>;

<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>();

<span class="token-comment">// Get pricing for a specific model</span>
<span class="token-keyword">const</span> result = <span class="token-keyword">await</span> client.<span class="token-function">getModelPricing</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>);
<span class="token-comment">// Returns: { provider, modelId, pricing, date, stale }</span>

<span class="token-comment">// Get all models for a provider</span>
<span class="token-keyword">const</span> models = <span class="token-keyword">await</span> client.<span class="token-function">getProviderModels</span>(<span class="token-string">'anthropic'</span>);
<span class="token-comment">// Returns: { 'claude-sonnet-4': { input, output, ... }, ... }</span>

<span class="token-comment">// List model IDs</span>
<span class="token-keyword">const</span> ids = <span class="token-keyword">await</span> client.<span class="token-function">listModels</span>(<span class="token-string">'google'</span>);
<span class="token-comment">// Returns: ['gemini-1.5-pro', 'gemini-1.5-flash', ...]</span>

<span class="token-comment">// Calculate cost</span>
<span class="token-keyword">const</span> cost = <span class="token-keyword">await</span> client.<span class="token-function">calculateCost</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>, {
  inputTokens: <span class="token-number">1000</span>,
  outputTokens: <span class="token-number">500</span>,
  cachedInputTokens: <span class="token-number">200</span>,  <span class="token-comment">// optional</span>
});
<span class="token-comment">// Returns: { inputCost, outputCost, totalCost, usedCachedPricing, date, stale }</span></code></pre>
      </div>

      <h3>Custom Providers &amp; Offline Mode</h3>
      <p>Add custom models or use entirely custom pricing data:</p>
      <div class="code-block">
        <pre><code><span class="token-comment">// Add custom models alongside remote data</span>
<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  customProviders: {
    <span class="token-string">'my-company'</span>: {
      <span class="token-string">'internal-llm'</span>: { input: <span class="token-number">0.50</span>, output: <span class="token-number">1.00</span>, context: <span class="token-number">32000</span> }
    },
    <span class="token-string">'openai'</span>: {
      <span class="token-string">'gpt-4-custom'</span>: { input: <span class="token-number">25</span>, output: <span class="token-number">50</span> } <span class="token-comment">// Override/add to openai</span>
    }
  }
});

<span class="token-comment">// Offline mode - no remote fetching, only use provided data</span>
<span class="token-keyword">const</span> offlineClient = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  offline: <span class="token-keyword">true</span>,
  customProviders: {
    <span class="token-string">'openai'</span>: {
      <span class="token-string">'gpt-4o'</span>: { input: <span class="token-number">2.5</span>, output: <span class="token-number">10</span> }
    }
  }
});</code></pre>
      </div>

      <h3>Client Options</h3>
      <div class="code-block">
        <pre><code><span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  <span class="token-comment">// Disable remote fetching (only use customProviders)</span>
  offline: <span class="token-keyword">false</span>,

  <span class="token-comment">// Custom provider data (merged with remote, custom takes precedence)</span>
  customProviders: { ... },

  <span class="token-comment">// Custom base URL (default: GitHub raw content)</span>
  baseUrl: <span class="token-string">'https://your-mirror.com/api/v1'</span>,

  <span class="token-comment">// Custom fetch function</span>
  fetch: customFetch,

  <span class="token-comment">// Clock offset in milliseconds (if server clock is wrong)</span>
  timeOffsetMs: <span class="token-number">2</span> * <span class="token-number">60</span> * <span class="token-number">60</span> * <span class="token-number">1000</span>,  <span class="token-comment">// +2 hours</span>

  <span class="token-comment">// External cache for serverless (Redis, etc.)</span>
  externalCache: {
    get: (key) => redis.<span class="token-function">get</span>(key),
    set: (key, value) => redis.<span class="token-function">set</span>(key, value, <span class="token-string">'EX'</span>, <span class="token-number">86400</span>),
  },
});</code></pre>
      </div>
    </section>

    <section id="stale-data">
      <h2><span class="section-number">04</span>Stale Data Handling</h2>
      <p>The <code>stale</code> flag indicates if pricing data might be outdated. This happens when:</p>
      <ul>
        <li><strong>Update window</strong> - Data updates at 00:01 UTC. Between midnight and 00:01, yesterday's data is "current"</li>
        <li><strong>Fetch failure</strong> - If crawlers fail to update, yesterday's data persists</li>
        <li><strong>Clock skew</strong> - Your server's date differs from the data's date</li>
      </ul>

      <div class="code-block">
        <pre><code><span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>();
<span class="token-keyword">const</span> result = <span class="token-keyword">await</span> client.<span class="token-function">getModelPricing</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>);

<span class="token-keyword">if</span> (result.stale) {
  <span class="token-comment">// Data date doesn't match today's date</span>
  console.<span class="token-function">warn</span>(<span class="token-string">`Using </span>${result.date}<span class="token-string"> pricing`</span>);
}

<span class="token-comment">// Stale data is still valid - prices rarely change daily</span>
<span class="token-comment">// Typical staleness is just a few hours around midnight UTC</span></code></pre>
      </div>

      <h3>Best Practices</h3>
      <p>For most applications, stale data is acceptable - LLM prices rarely change daily. However, if freshness matters:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>();
<span class="token-keyword">const</span> result = <span class="token-keyword">await</span> client.<span class="token-function">getModelPricing</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>);

<span class="token-keyword">if</span> (result.stale) {
  <span class="token-comment">// Option 1: Use it anyway (recommended for most cases)</span>
  console.<span class="token-function">log</span>(<span class="token-string">`Using </span>${result.date}<span class="token-string"> pricing`</span>);

  <span class="token-comment">// Option 2: Alert but continue</span>
  <span class="token-keyword">await</span> <span class="token-function">sendAlert</span>(<span class="token-string">'Pricing data is stale'</span>);

  <span class="token-comment">// Option 3: Refuse to calculate (strict mode)</span>
  <span class="token-keyword">throw new</span> <span class="token-function">Error</span>(<span class="token-string">'Pricing data is stale, aborting'</span>);
}

<span class="token-comment">// In cost calculations, staleness is also returned:</span>
<span class="token-keyword">const</span> cost = <span class="token-keyword">await</span> client.<span class="token-function">calculateCost</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>, { inputTokens: <span class="token-number">1000</span>, outputTokens: <span class="token-number">500</span> });
console.<span class="token-function">log</span>(<span class="token-string">`Cost: $</span>${cost.totalCost}<span class="token-string"> (data from </span>${cost.date}<span class="token-string">, stale: </span>${cost.stale}<span class="token-string">)`</span>);</code></pre>
      </div>

      <h3>Error Handling</h3>
      <div class="code-block">
        <pre><code><span class="token-keyword">import</span> { PricingClient, ClockMismatchError } <span class="token-keyword">from</span> <span class="token-string">'token-costs'</span>;

<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>();

<span class="token-keyword">try</span> {
  <span class="token-keyword">const</span> pricing = <span class="token-keyword">await</span> client.<span class="token-function">getModelPricing</span>(<span class="token-string">'openai'</span>, <span class="token-string">'gpt-4o'</span>);
} <span class="token-keyword">catch</span> (error) {
  <span class="token-keyword">if</span> (error <span class="token-keyword">instanceof</span> ClockMismatchError) {
    <span class="token-comment">// Server clock is significantly off</span>
    console.<span class="token-function">error</span>(<span class="token-string">`Clock off by </span>${error.daysDiff}<span class="token-string"> days`</span>);
  }
}</code></pre>
      </div>
    </section>

    <section id="api-endpoints">
      <h2><span class="section-number">05</span>API Endpoints</h2>
      <p>JSON files updated daily at 00:01 UTC:</p>
      <div class="api-grid">
        <div class="api-card">
          <h4>OpenAI</h4>
          <a href="api/v1/openai.json">api/v1/openai.json</a>
        </div>
        <div class="api-card">
          <h4>Anthropic</h4>
          <a href="api/v1/anthropic.json">api/v1/anthropic.json</a>
        </div>
        <div class="api-card">
          <h4>Google</h4>
          <a href="api/v1/google.json">api/v1/google.json</a>
        </div>
        <div class="api-card">
          <h4>OpenRouter</h4>
          <a href="api/v1/openrouter.json">api/v1/openrouter.json</a>
        </div>
      </div>
    </section>

    <section id="data-format">
      <h2><span class="section-number">06</span>Data Format</h2>

      <h3>API Response Structure</h3>
      <div class="code-block">
        <pre><code>{
  <span class="token-string">"current"</span>: {
    <span class="token-string">"date"</span>: <span class="token-string">"2026-01-12"</span>,
    <span class="token-string">"models"</span>: {
      <span class="token-string">"gpt-4o"</span>: {
        <span class="token-string">"input"</span>: <span class="token-number">2.5</span>,
        <span class="token-string">"output"</span>: <span class="token-number">10</span>,
        <span class="token-string">"cached"</span>: <span class="token-number">1.25</span>,
        <span class="token-string">"context"</span>: <span class="token-number">128000</span>
      },
      <span class="token-string">"gpt-4o-mini"</span>: {
        <span class="token-string">"input"</span>: <span class="token-number">0.15</span>,
        <span class="token-string">"output"</span>: <span class="token-number">0.6</span>,
        <span class="token-string">"context"</span>: <span class="token-number">128000</span>
      }
    }
  },
  <span class="token-string">"previous"</span>: {
    <span class="token-string">"date"</span>: <span class="token-string">"2026-01-11"</span>,
    <span class="token-string">"models"</span>: { ... }
  }
}</code></pre>
      </div>

      <h3>Model Fields</h3>
      <table>
        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>input</code></td><td>number</td><td>USD per million input tokens</td></tr>
        <tr><td><code>output</code></td><td>number</td><td>USD per million output tokens</td></tr>
        <tr><td><code>cached</code></td><td>number?</td><td>USD per million cached input tokens</td></tr>
        <tr><td><code>context</code></td><td>number?</td><td>Maximum context window size</td></tr>
        <tr><td><code>maxOutput</code></td><td>number?</td><td>Maximum output tokens</td></tr>
      </table>

      <h3>Why Current and Previous?</h3>
      <div class="note">
        <p>Data updates at 00:01 UTC. If your application fetches at 23:59 UTC and caches, it might have "yesterday's" data when the calendar date changes.</p>
        <p>The dual structure lets you:</p>
        <ul>
          <li>Detect if your cached data is stale</li>
          <li>Fall back to previous data if current is missing</li>
          <li>Show users when prices last changed</li>
        </ul>
      </div>
    </section>

    <section id="advanced">
      <h2><span class="section-number">07</span>Advanced Usage</h2>

      <h3>Serverless / Edge Functions</h3>
      <p>In serverless environments, use external cache to avoid refetching on every cold start:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">import</span> { PricingClient } <span class="token-keyword">from</span> <span class="token-string">'token-costs'</span>;
<span class="token-keyword">import</span> { Redis } <span class="token-keyword">from</span> <span class="token-string">'@upstash/redis'</span>;

<span class="token-keyword">const</span> redis = <span class="token-keyword">new</span> <span class="token-function">Redis</span>({ url: process.env.REDIS_URL, token: process.env.REDIS_TOKEN });

<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  externalCache: {
    get: (key) => redis.<span class="token-function">get</span>(key),
    set: (key, value) => redis.<span class="token-function">set</span>(key, value, { ex: <span class="token-number">86400</span> }),
  },
});</code></pre>
      </div>

      <h3>Custom Fetch</h3>
      <p>For environments without global fetch or to add custom headers:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">import</span> { PricingClient } <span class="token-keyword">from</span> <span class="token-string">'token-costs'</span>;
<span class="token-keyword">import</span> nodeFetch <span class="token-keyword">from</span> <span class="token-string">'node-fetch'</span>;

<span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  fetch: nodeFetch,
});</code></pre>
      </div>

      <h3>Self-Hosting</h3>
      <p>Mirror the JSON files and point the client to your server:</p>
      <div class="code-block">
        <pre><code><span class="token-keyword">const</span> client = <span class="token-keyword">new</span> <span class="token-function">PricingClient</span>({
  baseUrl: <span class="token-string">'https://your-cdn.com/token-costs/api/v1'</span>,
});</code></pre>
      </div>
    </section>

    <section id="historical">
      <h2><span class="section-number">08</span>Historical Data</h2>
      <p>Full price change history is stored in the GitHub repository:</p>
      <p><a href="https://github.com/mikkotikkanen/token-costs/tree/main/history/prices">github.com/mikkotikkanen/token-costs/tree/main/history/prices</a></p>

      <h3>Historical Format</h3>
      <div class="code-block">
        <pre><code>{
  <span class="token-string">"provider"</span>: <span class="token-string">"openai"</span>,
  <span class="token-string">"lastCrawled"</span>: <span class="token-string">"2026-01-12T00:01:00Z"</span>,
  <span class="token-string">"pricingUrl"</span>: <span class="token-string">"https://openai.com/api/pricing/"</span>,
  <span class="token-string">"changes"</span>: [
    {
      <span class="token-string">"date"</span>: <span class="token-string">"2026-01-11"</span>,
      <span class="token-string">"changeType"</span>: <span class="token-string">"added"</span>,
      <span class="token-string">"pricing"</span>: {
        <span class="token-string">"modelId"</span>: <span class="token-string">"gpt-4o"</span>,
        <span class="token-string">"modelName"</span>: <span class="token-string">"GPT-4o"</span>,
        <span class="token-string">"inputPricePerMillion"</span>: <span class="token-number">2.5</span>,
        <span class="token-string">"outputPricePerMillion"</span>: <span class="token-number">10</span>,
        <span class="token-string">"contextWindow"</span>: <span class="token-number">128000</span>
      }
    },
    {
      <span class="token-string">"date"</span>: <span class="token-string">"2026-01-15"</span>,
      <span class="token-string">"changeType"</span>: <span class="token-string">"updated"</span>,
      <span class="token-string">"pricing"</span>: { ... },
      <span class="token-string">"previousPricing"</span>: { ... }
    }
  ]
}</code></pre>
      </div>
      <p>Change types: <code>added</code>, <code>updated</code>, <code>removed</code></p>
    </section>

    <section id="proposal">
      <h2><span class="section-number">09</span>For LLM Providers</h2>

      <h3>The Problem</h3>
      <p>Every tool that tracks LLM pricing has to scrape your website. This is:</p>
      <ul>
        <li><strong>Fragile</strong> - breaks when you update your pricing page</li>
        <li><strong>Wasteful</strong> - dozens of tools hitting your site daily</li>
        <li><strong>Inaccurate</strong> - scrapers miss updates or parse incorrectly</li>
      </ul>

      <h3>The Proposal</h3>
      <p>Add a <code>/llm_prices.json</code> file to your website root (like <code>robots.txt</code>):</p>
      <div class="code-block">
        <pre><code>{
  <span class="token-string">"gpt-4o"</span>: {
    <span class="token-string">"input"</span>: <span class="token-number">2.5</span>,
    <span class="token-string">"output"</span>: <span class="token-number">10</span>,
    <span class="token-string">"cached"</span>: <span class="token-number">1.25</span>,
    <span class="token-string">"context"</span>: <span class="token-number">128000</span>
  },
  <span class="token-string">"gpt-4o-mini"</span>: {
    <span class="token-string">"input"</span>: <span class="token-number">0.15</span>,
    <span class="token-string">"output"</span>: <span class="token-number">0.6</span>,
    <span class="token-string">"context"</span>: <span class="token-number">128000</span>
  }
}</code></pre>
      </div>

      <h3>Why This Structure</h3>
      <ul>
        <li><strong>Model ID as key</strong> - matches what developers use in API calls</li>
        <li><strong>Flat object</strong> - simple to parse, no nested hierarchies</li>
        <li><strong>Minimal fields</strong> - only what's needed for cost calculation</li>
        <li><strong>Per-million pricing</strong> - avoids floating point issues with per-token prices</li>
      </ul>

      <h3>Fields</h3>
      <table>
        <tr><th>Field</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>input</code></td><td>Yes</td><td>USD per million input tokens</td></tr>
        <tr><td><code>output</code></td><td>Yes</td><td>USD per million output tokens</td></tr>
        <tr><td><code>cached</code></td><td>No</td><td>USD per million cached input tokens</td></tr>
        <tr><td><code>context</code></td><td>No</td><td>Maximum context window size</td></tr>
      </table>

      <h3>Benefits</h3>
      <ul>
        <li><strong>One source of truth</strong> - you control the data</li>
        <li><strong>Always accurate</strong> - updated when you change prices</li>
        <li><strong>Zero scraping</strong> - tools fetch a single JSON file</li>
        <li><strong>Tiny payload</strong> - typically under 2KB</li>
      </ul>
    </section>
  </main>

  <footer>
    <div class="footer-inner">
      <div class="footer-links">
        <a href="https://github.com/mikkotikkanen/token-costs">GitHub</a>
        <a href="https://github.com/mikkotikkanen/token-costs/issues">Issues</a>
        <a href="https://x.com/mikkotikkanen">@mikkotikkanen</a>
      </div>
      <p class="footer-copy">MIT License</p>
    </div>
  </footer>

  <script>
    function toggleMobileNav() {
      document.getElementById('mobileNav').classList.toggle('open');
    }

    function copyToClipboard(text, btn) {
      navigator.clipboard.writeText(text).then(() => {
        btn.classList.add('copied');
        btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
        setTimeout(() => {
          btn.classList.remove('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>';
        }, 2000);
      });
    }

    const installCommands = {
      npm: { cmd: 'npm install token-costs', display: '<span>npm</span> install token-costs' },
      pnpm: { cmd: 'pnpm add token-costs', display: '<span>pnpm</span> add token-costs' },
      yarn: { cmd: 'yarn add token-costs', display: '<span>yarn</span> add token-costs' },
      bun: { cmd: 'bun add token-costs', display: '<span>bun</span> add token-costs' }
    };

    let currentPkgManager = 'npm';

    function switchInstallTab(manager) {
      currentPkgManager = manager;
      document.querySelectorAll('.install-tab').forEach(tab => {
        tab.classList.toggle('active', tab.textContent === manager);
      });
      document.getElementById('install-command').innerHTML = installCommands[manager].display;
    }

    function copyInstallCommand(btn) {
      copyToClipboard(installCommands[currentPkgManager].cmd, btn);
    }

    // Close mobile nav on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.getElementById('mobileNav').classList.remove('open');
      }
    });
  </script>
</body>
</html>
